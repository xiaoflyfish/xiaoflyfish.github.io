---
title: 服务架构
categories: 
- 分布式
---

# 单体架构

![](https://xiaoflyfish.oss-cn-beijing.aliyuncs.com/image/20201213145452.png)

1、所有的功能集成在一个项目工程中。

2、所有的功能打一个war包部署到服务器。

3、应用与数据库分开部署。

4、通过部署应用集群和数据库集群来提高系统的性能。

# 垂直架构

![](https://xiaoflyfish.oss-cn-beijing.aliyuncs.com/image/20201213145917.png)

以单体结构规模的项目为单位进行垂直划分项目即将一个大项目拆分成一个一个单体结构项目

# 分布式

![](https://xiaoflyfish.oss-cn-beijing.aliyuncs.com/image/20201213150600.png)

**分布式系统的特点**

将系统的功能拆分到不同的节点，使用的时候再将这些系统组合起来。不同的机器运行不一样的代码。

**分布式系统的好处：**

- 部分的节点出现了问题系统的其他功能还能使用。
- 要对一个业务进行修改不影响其他系统的运行。
- 可以单独对耗时的业务节点做单独的提升，跟集群相比资源的利用率更加的高

# SOA

SOA架构模式也称作为：面向服务架构模式、将共同存在的业务逻辑抽取成一个共同的服务，提供给其他的服务接口实现调用、服务与服务之间通讯采用rpc远程调用技术。

**SOA架构模式特点：**

SOA架构通讯中，采用XML方式实现通讯、在高并发下通讯过程中协议存在非常大冗余性，所以在最后微服务架构模式中使用JSON格式替代了XML。

SOA架构模式实现方案为WebService或者是ESB企业服务总线，底层通讯协议SOAP协议（Http+XML）实现传输

**ESB企业服务总线**

解决多系统之间跨语言通讯，数据协议的转换，提供可靠消息传输。

# 微服务

微服务核心就是把传统的单机应用，根据业务将单机应用拆分为一个一个的服务，彻底的解耦，每一个服务都是提供特定的功能，一个服务只做一件事

1. 将一个单一应用程序开发为一组小型服务

2. 每个服务运行在自己的进程中

3. 服务之间通过轻量级的通信机制(http rest api)

4. 每个服务都能够独立的部署

5. 每个服务甚至可以拥有自己的数据库

若不拆分的时候，我的非核心业务模块出现了重大bug 导致系统内存溢出，导致整个服务宕机

若拆分之后，只是说我的积分微服务不可用，我的整个系统核心功能还是能使用

**微服务架构与SOA架构的不同**

1.微服务架构基于 SOA架构 演变过来，继承 SOA架构的优点，在微服务架构中去除 SOA 架构中的 ESB 企业服务总线，采用 http+json（restful）进行传输。

2.微服务架构比 SOA 架构粒度会更加精细，让专业的人去做专业的事情（专注），目的提高效率，每个服务于服务之间互不影响，微服务架构中，每个服务必须独立部署，微服务架构更加轻巧，轻量级。

3.SOA 架构中可能数据库存储会发生共享，微服务强调独每个服务都是单独数据库，保证每个服务于服务之间互不影响。

4.项目体现特征微服务架构比 SOA 架构更加适合与互联网公司敏捷开发、快速迭代版本，因为粒度非常精细。

**微服务架构**

微服务架构是一个架构风格

微服务以及微服务架构的是二个完全不同的概念

微服务强调的是服务的大小和对外提供的单一功能，而微服务架构是指把 一个一个微服务组合管理起来，对外提供一套完整的服务