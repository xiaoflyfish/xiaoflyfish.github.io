---
title: 查看代码修改
categories: 
- 学习笔记
- GIT1
---

**工作区**

工作区，指的是当前正在编辑的文件，还没有修改的内容通过` git add `命令暂存起来；比如我现在修改了文件的一行代码，没有执行 `git add index.php `命令，那么` index.php `便处于工作区状态

**暂存区**

暂存区，指的是文件的修改已经通过`git add `命令但还没有正式通过`git commit`提交的 文件

**比较工作区变动**

```
git diff
```

执行命令之后，绿色部分代表增加的内容，红色部分代表删除的内容

**比较暂存区变动**

有些时候，我们可能已经通过` git add `命令，将某些文件从工作区添加到暂存区，但又想回过头，来看此文件刚才改动哪些内容的场景

于是我使用了 `git status`命令查看变动的内容

在 Git 的返回信息中却无法看到修改详情，原因是因为文件被提交到暂存区之后，工作区并没有再次改动，此时工作区与暂存区一致，当然就不能看出改动情况了。

这个时候，如果想要看文件里面修改了什么内容，就不是再把工作区和暂存区进行对比了，而是需要把暂 存区与版本库最近一次 commit 的内容进行比较

```
git diff --cached diff.php
```

**与指定记录比较**

有些时候，我们可能需要代码和历史的某一个版本进行比较，这个时候你可以先通过`git log`命令，找到历史提交记录的一个 hash 值

**工作区比较**

将要比较的 hash 值复制下来，然后执行如下所示命令：

```
git diff hash值
```

**暂存区比较**

有些时候，我们想把暂存区的改动和指定记录进行对比，那么在命令中加入`--cached`即可

```
git diff --cached hash值
```

**与最新版本库比较**

很多时候，我们只需要将未正式提交的代码（包含工作区与暂存区）与最新的 commit 记录进行比较，虽然也可以 通过指定 commit 的 hash 值进行，但是却很不方便，需要先获取到 hash 值，这里介绍一个简单的方法，可以通过 `git diff HEAD` 命令方式快速对比

```
git diff HEAD
```

在执行的命令中，HEAD指的是当前所在的分支名，如果你想比较其他分支也可以将 HEAD 改成其他分支名

**比较两个历史记录**

有时候，可能会需要查看某一次提交记录修改了什么内容，这个时候就需要将两个历史记录进行比较；首先通过 `gi t log `命令获取到需要查看的记录 hash 值，然后再找到这个记录的上一个版本的 hash 值

```
git diff hash值1 hash值2
```

