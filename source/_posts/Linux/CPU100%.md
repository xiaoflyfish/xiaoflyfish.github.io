---
title: CPU100%
categories: 
- Linux
---

**CPU负载情况**

```
top - 15:52:00 up 42:35, 1 user, load average: 0.15, 0.05, 0.01 
```

首先15:52:00指的是当前时间，up 42:35指的是 机器已经运行了多长时间，1 user就是说当前机器有1个用户在使用。 最重要的是load average: 0.15, 0.05, 0.01这行信息，他说的是CPU在1分钟、5分钟、15分钟内的负载情况

假设我们是一个4核的CPU，此时如果你的CPU负载是0.15，这就说明，4核CPU中连一个核都没用满，4核CPU基本都很空闲，没啥人在用。 如果你的CPU负载是1，那说明4核CPU中有一个核已经被使用的比较繁忙了，另外3个核还是比较空闲一些。要是CPU负载是1.5，说明有一个核被使用繁忙，另外一个核也在使用，但是没那么繁忙，还有2个核可能还是空闲的

如果你的CPU负载是4，那说明4核CPU都被跑满了，如果你的CPU负载是6，那说明4核CPU被繁忙的使用还不够处理当前的任务，很多进程可能一直在等待CPU去执行自己的任务

执行top -c ，显示进程运行信息列表

键入P ，进程按照CPU使用率排序

top -Hp 10765 ，显示一个进程的线程运行信息列表

键入P，线程按照CPU使用率排序

**将线程PID转化为16进制**

```
printf “%x” 10804
```

**查看堆栈，找到线程在干嘛**

```
jstack 10765 | grep ‘0x2a34’ -C5 --color
```

