---
title: 基本命令
categories: 
- Linux
---

# 快捷键

ctrl+c 强制终止当前命令

ctrl+l 清屏 同命令clear

ctrl+a 光标移动到命令行首

ctrl+e 光标移动到命令行尾

ctrl+u 从光标所在位置删除到首行

ctrl+z 把命令放入后台

ctrl+r 在历史命令中搜索 上下滚动

**历史命令的调用**

↑↓ 调用以前的历史命令

!n 重复执行第n条历史命令

!! 重复执行上一条命令

!字串 重复执行最后一条以该字串开头的命令

# 文件查看

**more**

more的功能是将文件从第一行开始，根据输出窗口的大小，适当的输出文件内容

more的语法：more 文件名

显示文件中从第3行起的内容 命令：more +3 log2012.log

从文件中查找第一个出现"day3"字符串的行，并从该处前两行开始显示输出 命令： more +/day3 log2012.log

设定每屏显示行数命令：more -5 log2012.log

Enter 向下n行，需要定义，默认为1行；

Ctrl+F 向下滚动一屏；空格键 向下滚动一屏；

Ctrl+B 返回上一屏；

= 输出当前行的行号；

:f 输出文件名和当前行的行号；

v 调用vi编辑器；

! 命令 调用Shell，并执行命令；

q 退出more

**grep**

-A是显示匹配后和它后面的n行。

-B是显示匹配行和它前面的n行。

-C是匹配行和它前后各n行。

-n ：输出行号

```
> jstack 12816 | grep 0x3211 -A 30
```

**tail**

**tail显示文件末尾内容**

命令：tail -n 5 log2014.log

循环查看文件内容 命令：tail -f test.log

从第5行开始显示文件 命令：tail -n +5 log2014.log

tail -n 10 test.log 查询日志尾部最后10行的日志;

**head**

**显示文件的前n行**

命令：head -n 5 log2014.log

head -n 10 test.log 查询日志文件中的头10行日志

显示文件前n个字节 命令：head -c 20 log2014.log

文件的除了最后n个字节以外的内容 命令：head -c -32 log2014.log

输出文件除了最后n行的全部内容 命令：head -n -6 log2014.log

**cat**

cat -n 显示行号（包括空行）

cat -b 显示行号（不包括空行）

cat -n log.txt | more

把 log2012.log 的文件内容加上行号后输入 log.log 这个文件里

cat -n log2012.log > log.log

**cut**

cut命令用于显示每行从开头算起 num1 到 num2 的文字

- -b ：以字节为单位进行分割
- -c ：以字符为单位进行分割
- -d ：自定义分隔符，默认为制表符
- -f ：与-d一起使用，指定显示哪个区域

cat aa.log | cut -d ' ' -f4:过滤出来的内容按照空格进行分割，取第四列内容

**uniq**

uniq 命令用于检查及删除文本文件中重复出现的行列

-c或--count 在每列旁边显示该行重复出现的次数

uniq testfile   #删除重复行 

检查文件并删除文件中重复出现的行，并在行首显示该行重复出现的次数

uniq -c testfile 

**sort**

sort可针对文本文件的内容，以行为单位来排序

-n 依照数值的大小排序

-c 检查文件是否已经按照顺序排序

-r 以相反的顺序来排序

sort -n -r:依照数值的大小排序

# 系统监控

**netstat**

netstat命令一般用于检验本机各端口的网络连接情况，用于显示与IP、TCP、UDP和ICMP协议相关的统计数据

netstat -an |grep tcp  查看所有tcp连接包括LISTEN状态

netstat -an |grep ESTABLISHED  查看所有正在连接中的tcp连接

**free命令**

free可以用来快速查看内存使用情况，包括了物理内存和虚拟内存。后面可以加上参数：-h和-m，否则默认会以kb为单位显示

**df命令**

df命令的功能是用来检查linux的文件系统的磁盘空间占用情况

如果没有文件名被指定，则显示当前所有被挂载的文件系统，默认以 KB 为单位

df -h：以方便阅读的方式显示



