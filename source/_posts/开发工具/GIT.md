---
title: GIT
categories: 
- 开发工具
---

**pull request**

类比的方法来解释一下 pull reqeust。想想我们中学考试，老师改卷的场景吧

你做的试卷就像仓库，你的试卷肯定会有很多错误，就相当于程序里的 bug。老师把你的试卷拿过来，相当于先 fork。在你的卷子上做一些修改批注，相当于 git commit。

最后把改好的试卷给你，相当于发 pull request，你拿到试卷重新改正错误，相当于 merge

**当你想更正别人仓库里的错误时，要走一个流程：**

1. 先 fork 别人的仓库，相当于拷贝一份，相信我，不会有人直接让你改修原仓库的
2. clone 到本地分支，做一些 bug fix
3. 发起 pull request 给原仓库，让他看到你修改的 bug
4. 原仓库 review 这个 bug，如果是正确的话，就会 merge 到他自己的项目中

# 压缩提交

有四次commit，如何将这个四次合并到一次

```
git rebase -i HEAD~4
```

需要修改第2-4行的第一个单词pick为squash，这个意义为将最后三次的提交压缩到倒数第四次的提交，效果就是我们在pick所在的提交就已经做了4次动作，但是看起来就是一次而已

然后我们保存退出，`git会一个一个压缩提交历史`，如果有冲突，需要修改，修改的时候要注意，保留最新的历史，不然我们的修改就丢弃了。修改以后要记得敲下面的命令：

```
git add .
git rebase --continue
```

如果你想放弃这次压缩的话，执行以下命令：

```
git rebase --abort
```

这个时候我们需要修改一下合并后的commit的描述信息

**同步到远程仓库**

```
git push -f
```

